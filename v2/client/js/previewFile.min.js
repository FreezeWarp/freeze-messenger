function previewUrl(){fileContent=$("#urlUpload").val();if(fileContent&&fileContent!="http://"){fileContainer='<img src="'+fileContent+'" alt="" style="max-width: 200px; max-height: 250px; height: auto;" />';$("#preview").html(fileContainer);$("#imageUploadSubmitButton").removeAttr("disabled")}else{$("#imageUploadSubmitButton").attr("disabled","disabled")}}function upFiles(id){if(!id){id=""}$("#imageUploadSubmitButton").attr("disabled","disabled");var fileInput=document.getElementById("fileUpload");if(typeof fileInput.files!="undefined"){var files=fileInput.files;if(files.length>0){for(var i=0;i<files.length;i++){var file=files[i];handleFile(file,id)}return true}else{return false}}else{$("#preview").html("File analysis not supported. Please upgrade to a compatible browser.");$("#imageUploadSubmitButton").removeAttr("disabled");$("#urlUpload").attr("value","")}}function handleFile(file,id){var fileName=file.name;var fileSize=file.size;if(!fileName.match(/\.(jpg|jpeg|gif|png|svg)$/i)){$("#preview").html("Wrong file type.")}else{if(fileSize>4*1000*1000){$("#preview").html("File too large.")}else{if(typeof FileReader=="undefined"){$("#preview").html("Preview not supported.");$("#imageUploadSubmitButton").removeAttr("disabled");$("#urlUpload").attr("value","")}else{var reader=new FileReader();reader.readAsDataURL(file);reader.onloadend=function(){var fileContent=reader.result;fileContainer='<img src="'+fileContent+'" alt="" style="max-width: 200px; max-height: 250px; height: auto;" />';$("#preview").html(fileContainer)};$("#imageUploadSubmitButton").removeAttr("disabled");$("#urlUpload").attr("value","")}}}};